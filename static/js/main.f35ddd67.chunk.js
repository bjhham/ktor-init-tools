(this["webpackJsonpktor-generator-frontend"]=this["webpackJsonpktor-generator-frontend"]||[]).push([[0],{380:function(e,t,n){},381:function(e,t,n){},498:function(e,t,n){},511:function(e,t,n){},520:function(e,t,n){},613:function(e,t,n){},614:function(e,t,n){},615:function(e,t,n){},616:function(e,t,n){},645:function(e,t,n){},647:function(e,t,n){},648:function(e,t,n){},649:function(e,t,n){},707:function(e,t,n){var r={"./autolinker/prism-autolinker":273,"./autolinker/prism-autolinker.css":708,"./autolinker/prism-autolinker.js":273,"./autolinker/prism-autolinker.min":274,"./autolinker/prism-autolinker.min.js":274,"./autoloader/prism-autoloader":275,"./autoloader/prism-autoloader.js":275,"./autoloader/prism-autoloader.min":276,"./autoloader/prism-autoloader.min.js":276,"./command-line/prism-command-line":277,"./command-line/prism-command-line.css":709,"./command-line/prism-command-line.js":277,"./command-line/prism-command-line.min":278,"./command-line/prism-command-line.min.js":278,"./copy-to-clipboard/prism-copy-to-clipboard":279,"./copy-to-clipboard/prism-copy-to-clipboard.js":279,"./copy-to-clipboard/prism-copy-to-clipboard.min":281,"./copy-to-clipboard/prism-copy-to-clipboard.min.js":281,"./custom-class/prism-custom-class":282,"./custom-class/prism-custom-class.js":282,"./custom-class/prism-custom-class.min":283,"./custom-class/prism-custom-class.min.js":283,"./data-uri-highlight/prism-data-uri-highlight":284,"./data-uri-highlight/prism-data-uri-highlight.js":284,"./data-uri-highlight/prism-data-uri-highlight.min":285,"./data-uri-highlight/prism-data-uri-highlight.min.js":285,"./diff-highlight/prism-diff-highlight":286,"./diff-highlight/prism-diff-highlight.css":710,"./diff-highlight/prism-diff-highlight.js":286,"./diff-highlight/prism-diff-highlight.min":287,"./diff-highlight/prism-diff-highlight.min.js":287,"./download-button/prism-download-button":288,"./download-button/prism-download-button.js":288,"./download-button/prism-download-button.min":289,"./download-button/prism-download-button.min.js":289,"./file-highlight/prism-file-highlight":290,"./file-highlight/prism-file-highlight.js":290,"./file-highlight/prism-file-highlight.min":291,"./file-highlight/prism-file-highlight.min.js":291,"./filter-highlight-all/prism-filter-highlight-all":292,"./filter-highlight-all/prism-filter-highlight-all.js":292,"./filter-highlight-all/prism-filter-highlight-all.min":293,"./filter-highlight-all/prism-filter-highlight-all.min.js":293,"./highlight-keywords/prism-highlight-keywords":294,"./highlight-keywords/prism-highlight-keywords.js":294,"./highlight-keywords/prism-highlight-keywords.min":295,"./highlight-keywords/prism-highlight-keywords.min.js":295,"./inline-color/prism-inline-color":296,"./inline-color/prism-inline-color.css":711,"./inline-color/prism-inline-color.js":296,"./inline-color/prism-inline-color.min":297,"./inline-color/prism-inline-color.min.js":297,"./jsonp-highlight/prism-jsonp-highlight":298,"./jsonp-highlight/prism-jsonp-highlight.js":298,"./jsonp-highlight/prism-jsonp-highlight.min":299,"./jsonp-highlight/prism-jsonp-highlight.min.js":299,"./keep-markup/prism-keep-markup":300,"./keep-markup/prism-keep-markup.js":300,"./keep-markup/prism-keep-markup.min":301,"./keep-markup/prism-keep-markup.min.js":301,"./line-highlight/prism-line-highlight":302,"./line-highlight/prism-line-highlight.css":712,"./line-highlight/prism-line-highlight.js":302,"./line-highlight/prism-line-highlight.min":303,"./line-highlight/prism-line-highlight.min.js":303,"./line-numbers/prism-line-numbers":304,"./line-numbers/prism-line-numbers.css":713,"./line-numbers/prism-line-numbers.js":304,"./line-numbers/prism-line-numbers.min":305,"./line-numbers/prism-line-numbers.min.js":305,"./match-braces/prism-match-braces":306,"./match-braces/prism-match-braces.css":714,"./match-braces/prism-match-braces.js":306,"./match-braces/prism-match-braces.min":307,"./match-braces/prism-match-braces.min.js":307,"./normalize-whitespace/prism-normalize-whitespace":308,"./normalize-whitespace/prism-normalize-whitespace.js":308,"./normalize-whitespace/prism-normalize-whitespace.min":309,"./normalize-whitespace/prism-normalize-whitespace.min.js":309,"./previewers/prism-previewers":310,"./previewers/prism-previewers.css":715,"./previewers/prism-previewers.js":310,"./previewers/prism-previewers.min":311,"./previewers/prism-previewers.min.js":311,"./remove-initial-line-feed/prism-remove-initial-line-feed":312,"./remove-initial-line-feed/prism-remove-initial-line-feed.js":312,"./remove-initial-line-feed/prism-remove-initial-line-feed.min":313,"./remove-initial-line-feed/prism-remove-initial-line-feed.min.js":313,"./show-invisibles/prism-show-invisibles":314,"./show-invisibles/prism-show-invisibles.css":716,"./show-invisibles/prism-show-invisibles.js":314,"./show-invisibles/prism-show-invisibles.min":315,"./show-invisibles/prism-show-invisibles.min.js":315,"./show-language/prism-show-language":316,"./show-language/prism-show-language.js":316,"./show-language/prism-show-language.min":317,"./show-language/prism-show-language.min.js":317,"./toolbar/prism-toolbar":318,"./toolbar/prism-toolbar.css":717,"./toolbar/prism-toolbar.js":318,"./toolbar/prism-toolbar.min":319,"./toolbar/prism-toolbar.min.js":319,"./treeview/prism-treeview":320,"./treeview/prism-treeview.css":718,"./treeview/prism-treeview.js":320,"./treeview/prism-treeview.min":321,"./treeview/prism-treeview.min.js":321,"./unescaped-markup/prism-unescaped-markup":322,"./unescaped-markup/prism-unescaped-markup.css":719,"./unescaped-markup/prism-unescaped-markup.js":322,"./unescaped-markup/prism-unescaped-markup.min":323,"./unescaped-markup/prism-unescaped-markup.min.js":323,"./wpd/prism-wpd":324,"./wpd/prism-wpd.css":720,"./wpd/prism-wpd.js":324,"./wpd/prism-wpd.min":325,"./wpd/prism-wpd.min.js":325};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=707},723:function(e,t,n){},728:function(e,t,n){},729:function(e,t,n){},733:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(58),c=n.n(a),s=n(46),o=n(327),l=n.n(o),u=n(328),d=n(6),j=(n(380),n(381),n(382),n(383),n(329)),f=n(28),m=n(361),p=n(167),h=n(367),b=n(7),g=n(17),v=n(18),O=n(212),w=n.n(O),x="UA-47631155-3",_=function(){function e(t){function n(){window.dataLayer.push(arguments)}Object(g.a)(this,e),this.events=[],window.dataLayer=window.dataLayer||[],window.gtag=n,n("js",new Date),n("config",x);var r=function(){var e,t,n,r=w.a.parse(document.cookie)||{},i=r.cookie_consent||"";return n={},Object(b.a)(n,"ad_storage",i.indexOf("ad_storage")>-1?"granted":"denied"),Object(b.a)(n,"analytics_storage",i.indexOf("analytics_storage")>-1?"granted":"denied"),Object(b.a)(n,"region",[r.cookie_country||(null===(e=navigator.languages[0])||void 0===e||null===(t=e.split("-"))||void 0===t?void 0:t.pop())]),n};n("consent","default",Object(d.a)(Object(d.a)({},r()),{},Object(b.a)({},"wait_for_update",1500)));setTimeout((function e(){n("consent","update",r()),(w.a.parse(document.cookie)||{}).cookie_closed||setTimeout(e,1e3)}),1e3)}return Object(v.a)(e,[{key:"trackEvent",value:function(e,t,n){null!=window.gtag&&window.gtag("event",t,Object(d.a)(Object(b.a)({},"event_category",e),n))}},{key:"trackPageView",value:function(e){null!=window.gtag&&window.gtag("event",e,Object(b.a)({},"event_category","pageview"))}},{key:"trackError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null!=window.gtag&&window.gtag("event","exception",{description:e,fatal:t})}}]),e}(),k=new _(!1,""),y=n(12),N=(n(498),n(4)),C=n.n(N),S=n(126),E=n(62),F=n(213),I=n.n(F),A=n(337),z=n.n(A),P=n(338),T=n.n(P),L="/settings",R="/plugins",D="/final",V=n(2),U=function(e,t){return e===t?"header__wizard-step_active":null},M=function(e){var t=e.activeStep,n=e.stepPressed,i=e.startProjectGenerating,a=e.generatedProject,c=Object(r.useState)(!1),s=Object(y.a)(c,2),o=s[0],l=s[1],u=Object(r.useCallback)((function(){t===R&&(i(),l(!0))}),[t]);return Object(r.useEffect)((function(){o&&a.blob&&(l(t===R),t===R&&n(D))}),[t,o,a]),Object(V.jsx)("div",{className:"header",children:Object(V.jsxs)("div",{className:"header__container",children:[Object(V.jsxs)("div",{className:"header__title-wrapper",children:[Object(V.jsx)("div",{className:"header__logo",children:Object(V.jsx)("a",{href:"https://ktor.io",children:Object(V.jsx)(S.b,{width:48})})}),Object(V.jsx)("h3",{className:"wt-h3 header__title",children:"Ktor Project Generator"})]}),Object(V.jsxs)("div",{className:"header__wizard-steps",children:[Object(V.jsxs)("div",{className:C()("wt-text-2","header__wizard-step",U(t,L)),onClick:function(){return n(L)},children:[Object(V.jsx)("span",{className:C()("header__wizard-step-number"),children:"1"})," Settings"]}),Object(V.jsx)("span",{className:"header__arrow",children:Object(V.jsx)(E.b,{glyph:I.a,size:E.a.Size14})}),Object(V.jsxs)("div",{className:C()("wt-text-2","header__wizard-step",U(t,R)),onClick:function(){return n(R)},children:[Object(V.jsx)("span",{className:C()("header__wizard-step-number"),children:"2"})," Plugins"]}),Object(V.jsx)("span",{className:"header__arrow",children:Object(V.jsx)(E.b,{glyph:I.a,size:E.a.Size14})}),Object(V.jsx)("div",{title:"Download generated project",className:C()("wt-text-2","header__wizard-step",{"header__wizard-step_active":t===D,"header__wizard-step_disabled":t===L}),onClick:u,children:Object(V.jsx)("span",{className:C()("header__wizard-step-number"),children:o?Object(V.jsx)(E.b,{className:"header__spin-icon",glyph:T.a,size:E.a.Size14}):Object(V.jsx)(E.b,{glyph:z.a,size:E.a.Size14})})})]})]})})},q=n(20),G=(n(511),n(68)),K=n(96),B=(n(520),n(364)),H=n(166),J=n(105),W=n(127),Y=n(22),$=n(110);function Z(e){return Q(e,$.b.Type.ERROR)}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.b.Type.SUCCESS;return{key:"alert-".concat(Date.now()),type:t,message:e,isShaking:!0,timeout:5e3}}function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te((n[e]||e).isRequiredForFeatures.reduce((function(e,t){return e.concat([t].concat(Object(Y.a)(X(t,e,n))))}),t||[]))}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te((n[e]||e).requiredFeatures.reduce((function(e,t){return e.concat([t].concat(Object(Y.a)(ee(t,e,n))))}),t||[]))}function te(e){return Array.from(new Set(e.map((function(e){return e.id||e})))).map((function(t){return e.filter((function(e){return(e.id||e)===t}))[0]}))}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return e.length>t?"".concat(e.substr(0,20),"..."):e}function re(e,t){var n=(t||"").toLowerCase().replace(/[^\w]+/g,"-").replace(/-$/g,"").replace(/^-/g,"")||"app";return"".concat((e||"").split(".").reverse().join("."),".").concat(n)}var ie=function(e){var t=e.isExpanded,n=e.isLoaded,r=e.children;return t?Object(V.jsx)("div",{className:"project-settings project-settings_expanded",children:n?r:Object(V.jsx)(J.a,{theme:"dark"})}):Object(V.jsx)("div",{className:"project-settings"})},ae=function(e){var t=e.projectName,n=e.projectArtifact,i=e.buildSystem,a=e.onBuildSystemChange,c=e.website,s=e.onWebsiteChange,o=e.onArtifactChange,l=e.ktorVersion,u=e.onKtorVersionChange,d=e.engine,j=e.onEngineChange,f=e.configurationIn,m=e.onConfigurationInChange,p=e.addSampleCode,h=e.onAddSampleCodeChange,b=e.settingsOptions,g=e.isExpanded,v=e.settingsLoaded,O=b.buildSystem,w=b.ktorVersion,x=b.engine,_=b.configurationIn,k=Object(r.useState)(!0),N=Object(y.a)(k,2),C=N[0],S=N[1];Object(r.useEffect)((function(){C&&o(re(c,t))}),[c,t,C]);var E=Object(r.useCallback)((function(e){S(!1),o(e.target.value)}),[o]),F=Object(r.useCallback)((function(e){return u(e.value)}),[u]),I=Object(r.useCallback)((function(e){return j(e.value)}),[u]),A=Object(r.useCallback)((function(e){return m(e.value)}),[m]);return Object(V.jsxs)(ie,{isExpanded:g,isLoaded:v,children:[Object(V.jsxs)("div",{children:[Object(V.jsxs)("div",{className:"project-settings__row",children:[Object(V.jsx)("div",{className:"wt-text-2 wt-text-2_hardness_hard wt-text-2_theme_dark project-settings__row-label",children:"Build system"}),Object(V.jsx)(B.a,{theme:"dark",size:"xs",value:i,onChange:a,options:O})]}),Object(V.jsxs)("div",{className:"project-settings__row",children:[Object(V.jsx)("div",{className:"wt-text-2 wt-text-2_hardness_hard wt-text-2_theme_dark project-settings__row-label",children:"Website"}),Object(V.jsx)(K.a,{size:"s",className:"project-settings__row-input",placeholder:"example.com",value:c,onChange:function(e){return s(e.target.value)},note:Object(V.jsx)("div",{className:"project-settings__note",children:"Domain is used to determine the package name"})})]}),Object(V.jsxs)("div",{className:"project-settings__row",children:[Object(V.jsx)("div",{className:"wt-text-2 wt-text-2_hardness_hard wt-text-2_theme_dark project-settings__row-label",children:"Artifact"}),Object(V.jsx)(K.a,{size:"s",className:"project-settings__row-input",placeholder:"com.example",onChange:E,value:n})]}),Object(V.jsxs)("div",{className:"project-settings__row",children:[Object(V.jsx)("div",{className:"wt-text-2 wt-text-2_hardness_hard wt-text-2_theme_dark project-settings__row-label",children:"Ktor version"}),Object(V.jsx)(H.a,{size:"s",className:"project-settings__row-input",placeholder:"Choose ktor version...",value:z(l,w),onChange:F,options:w})]}),Object(V.jsxs)("div",{className:"project-settings__row",children:[Object(V.jsx)("div",{className:"wt-text-2 wt-text-2_hardness_hard wt-text-2_theme_dark project-settings__row-label",children:"Engine"}),Object(V.jsx)(H.a,{size:"s",className:"project-settings__row-input",placeholder:"Choose engine...",value:z(d,x),onChange:I,options:x,note:Object(V.jsx)("div",{className:"project-settings__note",children:"If unsure, pick the default option"})})]})]}),Object(V.jsxs)("div",{className:"project-settings__row",children:[Object(V.jsx)("div",{className:"wt-text-2 wt-text-2_hardness_hard wt-text-2_theme_dark project-settings__row-label",children:"Configuration in"}),Object(V.jsx)(H.a,{size:"s",className:"project-settings__row-input",placeholder:"Choose configuration...",value:z(f,_),onChange:A,options:_})]}),Object(V.jsxs)("div",{className:"project-settings__row",children:[Object(V.jsx)("div",{className:"wt-text-2 wt-text-2_hardness_hard wt-text-2_theme_dark project-settings__row-label"}),Object(V.jsxs)("div",{className:"project-settings__checkbox",children:[Object(V.jsx)(W.b,{size:"s",theme:"dark",checked:p,onChange:function(e){return h(e.target.checked)},children:"Add sample code"}),Object(V.jsx)("div",{className:"wt-text-3 wt-text-3_theme_dark",children:"Useful if getting started with Ktor"})]})]})]});function z(e,t){return(t||[]).filter((function(t){return(null===t||void 0===t?void 0:t.value)===e}))[0]}},ce=(n(613),n(346));function se(e,t){return Object(r.useCallback)((function(t){var n=t.type,r=t.keyCode;("keydown"!==n||13!==r&&32!==r)&&"click"!==n||e()}),t)}var oe=function(e){var t=e.isArrowUp,n=e.onToggle,r=e.children,i=se((function(){return n(!t)}),[t]);return Object(V.jsxs)("span",{className:"wt-text-2 form-toggle-link",onClick:i,onKeyDown:i,tabIndex:"0",role:"link",children:[Object(V.jsx)("span",{className:"form-toggle-link__text",children:r}),Object(V.jsx)(ce.a,{size:"s",className:C()("form-toggle-link__arrow",{"form-toggle-link__arrow_up":t})})]})},le={ACTION:"ktor-generator-web-action",LINK:"ktor-generator-web-link",MOVE_TO_STEP:"ktor-generator-web-steps"},ue=["nextStep","projectName","onProjectNameChange"],de=function(e){var t=e.nextStep,n=e.projectName,i=e.onProjectNameChange,a=Object(q.a)(e,ue),c=Object(r.useState)(!1),s=Object(y.a)(c,2),o=s[0],l=s[1],u=Object(r.useState)(!1),j=Object(y.a)(u,2),f=j[0],m=j[1],p=Object(r.useRef)(),h=Object(r.useCallback)((function(e){l(e),k.trackEvent(le.LINK,"project-settings",{expanded:e})}),[]),b=Object(r.useCallback)((function(e){var t=(e.target.value||"").replace(/^[ \t\r\n]+/,"").replace(/['<>&]+/,"");m(!t),i(t)}),[i]);return Object(r.useLayoutEffect)((function(){p.current&&p.current.focus()}),[]),Object(V.jsxs)("div",{className:"project-form",children:[Object(V.jsxs)("div",{className:"project-form__project-name",children:[Object(V.jsx)("h3",{className:"wt-h3",children:"Project Name"}),Object(V.jsx)(K.a,{ref:p,className:"wt-offset-top-12",value:n,onChange:b,error:!!f&&"Please set a project name",placeholder:"Project name"})]}),Object(V.jsxs)("div",{className:"project-form__footer wt-offset-top-48",children:[Object(V.jsx)(G.a,{size:"s",mode:"contrast",theme:"dark",onClick:t,disabled:f,children:"Add plugins"}),Object(V.jsx)("span",{className:"project-form__footer-link-block",children:Object(V.jsx)(oe,{onToggle:h,isArrowUp:o,children:"Adjust project settings"})})]}),Object(V.jsx)(ae,Object(d.a)({isExpanded:o,projectName:n},a))]})},je="INITIALIZE",fe="LOAD_SETTINGS",me="SET_REDUX_HISTORY_LINK",pe="LOAD_FEATURES",he="LOAD_FEATURE_INFO",be="SHOW_FEATURE_INFO",ge="UPDATE_SERIALIZATION_MODEL",ve="ADD_FEATURE",Oe="REMOVE_FEATURE",we="SWITCH_PARAMETERS_MODE",xe="CHANGE_PARAMETER_VALUE",_e="START_LOAD_FEATURES",ke="START_PROJECT_GENERATING",ye="FINISH_PROJECT_GENERATING",Ne="HIDE_ALERT",Ce="SHOW_ALERT",Se=Object(s.b)((function(e){var t=e.projectConfig,n=e.options,r=e.settingsLoaded;return{projectName:t.name,projectArtifact:t.artifact,website:t.website,buildSystem:t.buildSystem,ktorVersion:t.ktorVersion,engine:t.engine,configurationIn:t.configurationIn,settingsOptions:n,addSampleCode:t.addSampleCode,settingsLoaded:r}}),(function(e){return{changeParameter:function(t,n){return e({type:xe,payload:{name:t,value:n}})}}}))((function(e){var t=e.nextStep,n=e.projectName,r=e.projectArtifact,i=e.changeParameter,a=e.buildSystem,c=e.website,s=e.ktorVersion,o=e.engine,l=e.configurationIn,u=e.addSampleCode,d=e.settingsOptions,j=e.settingsLoaded;return Object(V.jsxs)("section",{className:"wt-container wt-offset-top-48",children:[Object(V.jsx)("div",{className:"wt-row wt-row_size_m wt-offset-top-12",children:Object(V.jsxs)("p",{className:"wt-text-2 wt-text-2_hardness_hard wt-col-7 wt-col-sm-12",children:[Object(V.jsx)("span",{children:"You can create a Ktor project in\xa0two\xa0simple step: enter your\xa0project\xa0name and click\xa0"}),Object(V.jsx)("strong",{children:"Add\xa0plugins"}),Object(V.jsx)("span",{children:"\xa0to\xa0select the\xa0plugins you need. You can also fine-tune the\xa0settings of\xa0your\xa0project."})]})}),Object(V.jsx)("div",{className:"wt-row wt-row_size_m wt-offset-top-24",children:Object(V.jsx)("div",{className:"wt-col-6 wt-col-sm-12",children:Object(V.jsx)(de,{nextStep:t,settingsLoaded:j,projectName:n,projectArtifact:r,ktorVersion:s,onProjectNameChange:function(e){return i("name",e)},onArtifactChange:function(e){return i("artifact",e)},buildSystem:a,onBuildSystemChange:function(e){return i("buildSystem",e)},website:c,onWebsiteChange:function(e){return i("website",e)},onKtorVersionChange:function(e){return i("ktorVersion",e)},engine:o,onEngineChange:function(e){return i("engine",e)},configurationIn:l,onConfigurationInChange:function(e){return i("configurationIn",e)},addSampleCode:u,onAddSampleCodeChange:function(e){return i("addSampleCode",e)},settingsOptions:d})})})]})})),Ee=(n(614),n(159)),Fe=(n(615),n(616),n(164)),Ie=n(355),Ae=n(737),ze=n(738),Pe=(n(645),n(646),n(365)),Te=n(366);n(647);function Le(e){return e.length>1?"plugins":"plugin"}var Re=function(e){var t=e.feature,n=e.addedParents,i=e.unusedDependencies,a=e.removeFeature,c=Object(r.useState)([]),s=Object(y.a)(c,2),o=s[0],l=s[1],u=Object(r.useCallback)((function(){var e=[t.id].concat([].concat(Object(Y.a)(n),Object(Y.a)(i.filter((function(e){return!o.some((function(t){return t.id===e.id}))})))).map((function(e){return e.id})));a(e)}),[t,n,i,a,o]),d=Object(r.useMemo)((function(){return n.length+i.length-o.length+1}),[n,i,o]);return Object(V.jsxs)("div",{className:"remove-feature-confirmation",children:[Object(V.jsxs)("div",{className:"remove-feature-confirmation__content",children:[n.length>0&&Object(V.jsxs)("div",{className:"remove-feature-confirmation__section",children:[Object(V.jsx)("strong",{children:'Removing "'.concat(t.name,'" will remove the following parent ').concat(Le(n),":")}),n.map((function(e){return Object(V.jsx)("div",{className:"remove-feature-confirmation__list-item",children:Object(V.jsxs)("label",{className:"remove-feature-confirmation__label",children:[Object(V.jsx)(W.a,{defaultChecked:!0,disabled:!0}),Object(V.jsx)("div",{className:"remove-feature-confirmation__label-text",children:e.name})]})},e.id)}))]}),i.length>0&&Object(V.jsxs)("div",{className:"remove-feature-confirmation__section",children:[0===n.length&&Object(V.jsx)("strong",{children:'Removing "'.concat(t.name,'" will make the following ').concat(Le(i)," unused:")}),n.length>0&&Object(V.jsx)("strong",{children:"...and will make the following ".concat(Le(i)," unused:")}),i.map((function(e){return Object(V.jsx)("div",{className:"remove-feature-confirmation__list-item",children:Object(V.jsxs)("label",{className:"remove-feature-confirmation__label",children:[Object(V.jsx)(W.a,{checked:!o.some((function(t){return t.id===e.id})),onChange:function(t){var n=t.target;return function(e,t){var n=te(ee(e).concat(t?X(e):[]).concat([e])).filter((function(e){return i.some((function(t){return t.id===e.id}))})),r=t?o.filter((function(e){return!n.some((function(t){return e.id===t.id}))})):te(o.concat(n));l(r)}(e,n.checked)}}),Object(V.jsx)("div",{className:"remove-feature-confirmation__label-text",children:e.name})]})},e.id)}))]})]}),Object(V.jsx)("div",{className:"remove-feature-confirmation__footer",children:Object(V.jsx)(G.a,{size:"xs",mode:"contrast",onClick:u,children:1===d?'Remove "'.concat(t.name,'"'):"Remove ".concat(d," plugins")})})]})},De=function(e){var t=e.feature,n=e.removeFeature,i=e.addFeature,a=e.isAlwaysShown,c=Object(r.useState)(!1),s=Object(y.a)(c,2),o=s[0],l=s[1],u=Object(r.useCallback)((function(){l(!o)}),[o]),j=Object(r.useCallback)((function(e){i(),e.stopPropagation()}),[i]),f=Object(r.useMemo)((function(){return{className:C()("feature-item__button",{"feature-item__button_shown":o||a}),size:"xs",mode:"contrast"}}),[o,a]),m=Object(r.useMemo)((function(){return t.wasAdded?X(t).filter((function(e){return e.wasAdded})):[]}),[t]),p=Object(r.useMemo)((function(){return t.wasAdded?ee(t).filter((function(e){return(e.isRequiredForFeatures||[]).filter((function(e){return e.wasAdded&&!m.some((function(t){return t.id===e.id}))})).length<2})):[]}),[t,m]);return t.wasAdded?p.length||m.length?Object(V.jsx)(Te.a,{onShow:function(){return l(!0)},onHide:function(){return l(!1)},anchor:function(){return Object(V.jsx)(G.a,Object(d.a)(Object(d.a)({icon:Object(V.jsx)(ce.a,{})},f),{},{onClick:u,iconPosition:"right",children:"Remove"}))},children:Object(V.jsx)(Pe.a,{children:Object(V.jsx)(Re,{feature:t,addedParents:m,unusedDependencies:p,removeFeature:n})})}):Object(V.jsx)(G.a,Object(d.a)(Object(d.a)({},f),{},{onClick:function(){return n([t.id])},children:"Remove"})):Object(V.jsx)(G.a,Object(d.a)(Object(d.a)({},f),{},{onClick:j,children:"Add"}))},Ve=i.a.forwardRef((function(e,t){var n=e.feature,i=e.isSelected,a=e.showControls,c=e.selectFeature,s=e.addFeature,o=e.removeFeature,l=Object(r.useCallback)((function(e){var t;"BUTTON"!==(null===(t=e.target.nodeName)||void 0===t?void 0:t.toUpperCase())&&c&&c()}),[c]);return Object(V.jsxs)("div",{ref:t,className:C()("feature-item",{"feature-item_selected":i,"feature-item_was-added":n.wasAdded}),onClick:l,onTouchStart:l,"aria-hidden":"true",children:[Object(V.jsxs)("div",{className:"feature-item__left-side",children:[Object(V.jsx)("div",{className:C()({"feature-item__name":!0,"wt-text-2":!0,"wt-text-2_hardness_hard":!0}),tabIndex:0,role:"link",children:n.name}),Object(V.jsx)("div",{className:C()("feature-item__description","wt-text-3"),children:n.description})]}),Object(V.jsx)(De,{feature:n,removeFeature:o,addFeature:s,isSelected:i,isAlwaysShown:a})]})}));function Ue(e,t){if(""===e)return t;var n=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},r=function(t,n){return function(r){var i=new RegExp(t(e),"i");return!!r[n]&&null!==r[n].match(i)}},i=r((function(e){return"^".concat(n(e))}),"name"),a=r(n,"name"),c=r(n,"description"),s=function(e){return i(e)||a(e)||c(e)};return t.map((function(e){return{name:e.name,features:e.features.filter(s)}})).filter((function(e){return e.features.length>0}))}n(648);var Me=function(e){var t=e.name;return Object(V.jsx)("div",{className:"wt-text-2 feature-item-separator",children:t})};function qe(e,t){var n=e.reduce((function(e,t){var n=t.features;return e.concat(n||[])}),[]).map((function(e){return e.id}));return new Ie.a({data:n,focused:n.indexOf(t)>-1?t:null})}var Ge=function(e){var t=e.features,n=e.onFocus,i=e.autoFocus,a=e.addFeature,c=e.removeFeature,s=e.showRemoveButtons,o=e.featuresLoaded,l=Object(r.useState)(""),u=Object(y.a)(l,2),d=u[0],j=u[1],f=Object(r.useRef)(),m=Object(r.useRef)(),p=Object(r.useRef)({}),h=Object(r.useMemo)((function(){return Object.entries((e=t,n="group",e.reduce((function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e}),{}))).map((function(e){var t=Object(y.a)(e,2);return{name:t[0],features:t[1]}}));var e,n}),[t]),b=Object(r.useState)(Ue(d.trim(),h)),g=Object(y.a)(b,2),v=g[0],O=g[1];Object(r.useEffect)((function(){O(Ue(d.trim(),h))}),[h,d]);var w=Object(r.useState)(qe(v)),x=Object(y.a)(w,2),_=x[0],N=x[1],C=Object(r.useRef)(_),S=Object(r.useCallback)((function(e){var t;j(e);var n=Ue(e.trim(),h);O(n);var r=qe(n,null===(t=C.current)||void 0===t?void 0:t.getFocused());N(r)}),[h]);Object(r.useEffect)((function(){var e,t,r=null===(e=C.current)||void 0===e?void 0:e.getFocused();C.current=_;var i=null===(t=C.current)||void 0===t?void 0:t.getFocused();r!==i&&i&&n(i)}),[_,n]);var E=Object(r.useMemo)((function(){return{up:function(){var t=C.current.moveUp();t&&(N(t),e(m.current,p.current[t.getFocused()]))},down:function(){var t=C.current.moveDown();t&&(N(t),e(m.current,p.current[t.getFocused()]))},enter:function(){var e=C.current.getFocused();e&&a&&a(e)}};function e(e,t){if(t){var n=t.getBoundingClientRect();if(e){var r=e.getBoundingClientRect(),i=r.y+r.height-n.y-n.height;if(i<0)e.scrollTop-=i-n.height;else{var a=r.y-n.y;a>0&&(e.scrollTop-=a)}}}}}),[a]),F=Object(r.useMemo)((function(){return"feature-list-".concat(Math.ceil(1e3*Math.random()))}),[]),I=se((function(){S("")}),[]),A=Object(r.useCallback)((function(e){38!==e.keyCode&&40!==e.keyCode||e.metaKey||e.ctrlKey||e.preventDefault()}),[]);Object(r.useLayoutEffect)((function(){f.current&&i&&f.current.focus()}),[i]);var z=v.length?v.reduce((function(e,t){var n=t.name,r=t.features;return e.concat([Object(V.jsx)(Me,{name:n},n)].concat(Object(Y.a)(r.map((function(e){var t=e.id===C.current.getFocused();return Object(V.jsx)(Ve,{ref:function(t){return p.current[e.id]=t},feature:e,isSelected:t,selectFeature:function(){return function(e){var t=C.current.focus(e);t&&N(t)}(e.id)},addFeature:function(){k.trackEvent(le.ACTION,"add-plugin",{name:e.id}),a(e.id)},removeFeature:function(t){k.trackEvent(le.ACTION,"remove-plugin",{name:e.id}),c(t)},showControls:e.wasAdded&&s||t},"feature-".concat(e.id+e.wasAdded))})))))}),[]):Object(V.jsxs)("div",{className:"features-list__no-content-container",children:[Object(V.jsx)("div",{children:Object(V.jsx)(Ae.a,{className:"wt-text-2 wt-text-3_hardness_pale"})}),Object(V.jsx)("div",{className:"wt-text-2 wt-text-3_hardness_pale",children:"No features found for the current filter "}),Object(V.jsx)("div",{className:"wt-text-2",children:Object(V.jsx)("span",{className:"wt-link wt-link_hardness_average",role:"link",tabIndex:0,onClick:I,onKeyDown:I,children:"Reset"})})]});return Object(V.jsxs)("div",{className:"features-list",children:[Object(V.jsx)(Fe.a,{map:E,scope:F}),Object(V.jsx)("div",{className:"features-list__search-panel",children:Object(V.jsx)(K.a,{className:"ring-js-shortcuts",ref:f,value:d||"",onChange:function(e){return S((e.target.value||"").replace(/^[ ]+/,"").replace(/[ ]+$/," "))},onKeyDown:A,placeholder:"Filter",size:"s",icon:Object(V.jsx)(ze.a,{})})}),Object(V.jsx)("div",{className:"features-list__list",ref:m,children:o?z:Object(V.jsxs)("div",{className:"features-list__no-content-container",children:[Object(V.jsx)(J.a,{theme:"light"}),Object(V.jsx)("div",{className:"wt-text-2 features-list__loading",children:"Loading..."})]})})]})},Ke=function(e){var t=e.features,n=e.isExpanded,i=e.onClose,a=e.removeFeature,c=e.selectFeature,s=Object(r.useState)(!n),o=Object(y.a)(s,2),l=o[0],u=o[1];return Object(r.useLayoutEffect)((function(){var e=!0;return n?u(!n):setTimeout((function(){e&&u(!n)}),500),function(){e=!1}}),[n]),Object(V.jsx)("div",{className:C()("added-features",{"added-features_shown":n}),children:!l&&Object(V.jsxs)("div",{className:"added-features__container",children:[Object(V.jsxs)("div",{className:"added-features__header",children:[Object(V.jsx)("h3",{className:"wt-h3 added-features__header-text",children:"Added plugins"}),Object(V.jsx)("h3",{className:"wt-h3 added-features__header-icon",children:Object(V.jsx)(Ee.a,{role:"link",onClick:i})})]}),Object(V.jsx)("div",{className:"added-features__list",children:t.length?Object(V.jsx)(Ge,{features:t,featuresLoaded:!0,onFocus:c,removeFeature:a}):Object(V.jsxs)("div",{className:"added-features__no-content",children:[Object(V.jsx)("div",{className:"wt-text-2 wt-text-3_hardness_pale",children:"(\u2312\u203f\u2312)"}),Object(V.jsx)("div",{className:"wt-text-2 wt-text-3_hardness_pale wt-offset-top-12",children:"You have not add any plugins to your project"}),Object(V.jsx)("div",{className:"wt-text-2",children:Object(V.jsx)("span",{className:"wt-link wt-link_hardness_average",role:"link",tabIndex:0,onClick:i,onKeyDown:i,children:"Back"})})]})})]})})},Be=Object(s.b)((function(e){return{generatedProject:e.generatedProject}}),(function(e){return{onClick:function(){return e({type:ke})}}}))((function(e){var t=e.onClick,n=e.generatedProject,i=e.onGenerate,a=Object(r.useState)(!1),c=Object(y.a)(a,2),s=c[0],o=c[1];Object(r.useEffect)((function(){n.blob&&s&&(o(!1),i())}),[n,s,i]);var l=Object(r.useCallback)((function(){s||(o(!0),t())}),[t,s]);return Object(V.jsx)(G.a,{onClick:l,mode:"contrast",theme:"dark",size:"s",busy:s,children:"Generate project"})})),He=function(e){var t=e.features,n=e.featuresLoaded,i=e.showFeatureInfo,a=e.addFeature,c=e.nextStep,s=e.removeFeature,o=Object(r.useState)(!0),l=Object(y.a)(o,2),u=l[0],d=l[1],j=Object(r.useMemo)((function(){return t.filter((function(e){return e.wasAdded}))}),[t]),f=Object(r.useCallback)((function(e){d(e),k.trackEvent(le.LINK,"view-added-plugins",{expanded:!e})}),[]),m=se((function(){return f(!0)}),[f]),p=Object(r.useCallback)((function(){k.trackEvent(le.ACTION,"clear-plugins-list"),s(j.map((function(e){return e.id})))}),[j,s]);return Object(V.jsx)("div",{className:"features-list-panel",children:Object(V.jsxs)("div",{className:"features-list-panel__container",children:[Object(V.jsx)("div",{className:"features-list-panel__description",children:Object(V.jsx)("h3",{className:"wt-h3",children:"Ktor Plugins"})}),Object(V.jsx)("div",{className:"features-list-panel__list",children:Object(V.jsx)(Ge,{features:t,featuresLoaded:n,onFocus:i,addFeature:a,removeFeature:s,autoFocus:!0,showRemoveButtons:!0})}),Object(V.jsx)(Ke,{features:j,removeFeature:s,selectFeature:i,isExpanded:!u,onClose:m}),Object(V.jsxs)("div",{className:"features-list-panel__footer",children:[!j.length&&n&&Object(V.jsx)("div",{className:"wt-text-2 features-list-panel__footer-label",children:"No plugins added"}),!!j.length&&n&&Object(V.jsxs)("span",{className:"features-list-panel__form-toggle-panel",children:[Object(V.jsx)(oe,{onToggle:d,isArrowUp:u,children:"".concat(j.length," ").concat(j.length>1?"plugins":"plugin"," added")}),Object(V.jsx)("span",{className:"features-list-panel__clear",title:"Clear",children:Object(V.jsx)(Ee.a,{role:"link",title:"Clear",onClick:p,size:"xs"})})]}),Object(V.jsx)("span",{className:"features-list-panel__form-toggle-panel-margin",children:"\xa0"}),Object(V.jsx)(Be,{onGenerate:c})]})]})})},Je=(n(649),n(356)),We=n.n(Je),Ye=n(357),$e=n.n(Ye),Ze=(n(721),n(722),/[&<>"]/),Qe=/[&<>"]/g,Xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function et(e){return Xe[e]}function tt(e){return Ze.test(e)?e.replace(Qe,et):e}var nt=new We.a("commonmark",{html:!0,linkify:!0,breaks:!0}).use($e.a,{defaultLanguageForUnspecified:"kotlin",defaultLanguageForUnknown:"kotlin",defaultLanguage:"kotlin"}).use((function(e){return e.renderer.rules.link_open=function(e,t){var n=e[t],r=n.attrGet("href")||"",i=n.attrGet("title")||"",a=C()(n.attrGet("class"),"wt-link"),c=i?' title="'.concat(i,'"'):"";return'<a class="'.concat(a,'" href="').concat(r,'"').concat(c,' target="_blank" rel="noopener noreferrer nofollow">')},e.renderer.rules.link_close=function(){return"</a>"},e})).use((function(e){return e.renderer.rules.code_inline=function(e,t,n,r,i){var a=e[t];return'<code class="wt-code" '.concat(i.renderAttrs(a),">").concat(tt(a.content),"</code>")},e.renderer.rules.code_block=function(e,t,n,r,i){var a=e[t];return'<pre class="wt-pre" '.concat(i.renderAttrs(a),"><code>").concat(tt(a.content),"</code></pre>")},e.renderer.rules.fence=function(e,t,n,r,i){var a=e[t],c=a.info?a.info.trim():"",s=c?c.split(/\s+/g)[0]:"",o=(n.highlight?n.highlight(a.content,s):"")||tt(a.content);return'<pre class="'.concat(C()("wt-pre",n.langPrefix+s),'"><code class="').concat(n.langPrefix+s,'" ').concat(i.renderAttrs(a),">").concat(o,"</code></pre>\n")},e}));var rt=function(e){var t=e.code,n=Object(r.useMemo)((function(){return function(e){try{return nt.render(e)}catch(t){if(t instanceof TypeError)return console.warn("This is an unexpected require behavior bug in Webpack 4.\n      Please check if you specified correct names for languages in markdown."),"";throw t}}(t)}),[t]);return Object(V.jsx)("div",{className:"feature-info-markdown",dangerouslySetInnerHTML:{__html:n}})},it=function(e){var t=e.description,n=e.usage,r=e.options,i=0===(n||"").indexOf("## ");return Object(V.jsxs)("div",{children:[t&&Object(V.jsx)("div",{className:"feature-info-section wt-text-2 wt-text-2_hardness_hard",children:Object(V.jsx)(rt,{code:t})}),n&&Object(V.jsxs)("div",{className:"feature-info-section wt-text-2 wt-text-2_hardness_hard",children:[!i&&Object(V.jsx)("h4",{className:"wt-h4 wt-h4_flow",children:"Usage"}),Object(V.jsx)(rt,{code:n})]}),r&&Object(V.jsxs)("div",{className:"feature-info-section wt-text-2 wt-text-2_hardness_hard",children:[Object(V.jsx)("h4",{className:"wt-h4 wt-h4_flow",children:"Options"}),Object(V.jsx)(rt,{code:r})]})]})},at=Object(s.b)((function(e){return Object(d.a)({status:e.selectedFeatureId?e.docs[e.selectedFeatureId]?"has-info":"no-info":"not-selected",id:e.selectedFeatureId,name:e.selectedFeatureId&&e.features[e.selectedFeatureId].name},(e.docs[e.selectedFeatureId]||{}).content)}))((function(e){var t=e.status,n=e.name,r=e.description,i=e.usage,a=e.options;return"not-selected"===t?"":Object(V.jsxs)("div",{className:"feature-info pl-xl-5 pr-xl-5",children:[Object(V.jsx)("h3",{className:"wt-h3",children:n}),"has-info"===t&&Object(V.jsx)(it,{description:r,usage:i,options:a}),"no-info"===t&&Object(V.jsx)(J.a,{className:"wt-offset-top-12",theme:"light"})]})})),ct=(n(723),function(e){var t=e.children,n=Object(r.useRef)(),i=Object(r.useState)({}),a=Object(y.a)(i,2),c=a[0],s=a[1],o=Object(r.useCallback)((function(){var e=function(){var e,t,r=(null===(e=n.current)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.getBoundingClientRect())||{};if((r.y||0)<78){var i=32;return{left:"".concat(r.left,"px"),right:"".concat(r.right+i,"px"),top:"".concat(86,"px"),position:"fixed"}}return{}}();(Object.keys(e).length!==Object.keys(c).length||Object.keys(e).some((function(t){return e[t]!==c[t]})))&&s(e)}),[c]);return Object(r.useEffect)((function(){return window.addEventListener("scroll",o),window.addEventListener("resize",o),function(){window.removeEventListener("scroll",o),window.removeEventListener("resize",o)}}),[o]),Object(V.jsx)("div",{ref:n,style:c,className:"sticky-sidebar-container",children:t})}),st=Object(s.b)((function(e){var t,n=e.features,r=e.featuresLoaded,i=e.projectConfig;return{projectName:i.name,featuresLoaded:r,features:(t=Object.keys(n).reduce((function(e,t){return e[t]=Object(d.a)(Object(d.a)({},n[t]),{},{id:t,wasAdded:(i.plugins||[]).indexOf(t)>-1}),e}),{}),Object.keys(t).map((function(e){return t[e].requiredFeatures=a(t[e].requiredFeatures,t),t[e].isRequiredForFeatures=a(t[e].isRequiredForFeatures,t),t[e]})))};function a(e,t){return e.map((function(e){return t[e]}))}}),(function(e){return{showFeatureInfo:function(t){return e({type:be,payload:{id:t}})},addFeature:function(t){return e({type:ve,payload:{id:t}})},removeFeature:function(t){return e({type:Oe,payload:{ids:t}})}}}))((function(e){var t=e.features,n=e.featuresLoaded,r=e.projectName,i=e.showFeatureInfo,a=e.addFeature,c=e.removeFeature,s=e.nextStep;return Object(V.jsxs)("section",{className:"wt-container wt-offset-top-48",children:[Object(V.jsx)("div",{className:"wt-row wt-row_size_m wt-offset-top-12",children:Object(V.jsxs)("p",{className:"wt-text-2 wt-text-2_hardness_hard wt-col-md-8 wt-col-sm-12",children:[Object(V.jsx)("span",{children:"Select plugins you need in\xa0your\xa0"}),Object(V.jsx)("strong",{children:(r||"").length>40?"".concat(r.substr(0,20),"..."):r}),Object(V.jsx)("span",{children:"\xa0project."}),Object(V.jsx)("br",{}),Object(V.jsx)("span",{children:"You can also add or remove plugins later."})]})}),Object(V.jsxs)("div",{className:"wt-row wt-row_size_m wt-offset-top-24",children:[Object(V.jsx)("div",{className:"wt-col-6 wt-col-sm-12",children:Object(V.jsx)(ct,{children:Object(V.jsx)(He,{features:t,featuresLoaded:n,showFeatureInfo:i,addFeature:a,removeFeature:c,nextStep:s})})}),Object(V.jsx)("div",{className:"wt-col-6 wt-col-sm-inline",children:Object(V.jsx)(at,{})})]})]})})),ot=n(358),lt=n.n(ot),ut=n(359),dt=n.n(ut),jt=n(128),ft=n(82),mt=n(97),pt=n(107),ht=n(83),bt=n.n(ht);function gt(e){return vt.apply(this,arguments)}function vt(){return vt=Object(pt.a)(bt.a.mark((function e(t){var n,r,i=arguments;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=i.length>1&&void 0!==i[1]?i[1]:"")&&(Array.isArray(n)?n:[n]).forEach((function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.body.appendChild(t)})),(r=document.createElement("script")).setAttribute("src",t),document.body.appendChild(r),e.next=7,new Promise((function(e){r.onload=function(){return e()}}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))),vt.apply(this,arguments)}function Ot(){return Ot=Object(pt.a)(bt.a.mark((function e(){var t,n=arguments;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:"#teamcity-element",window.TeamCity){e.next=4;break}return e.next=4,gt("https://ktor-wizard.teamcity.com/plugins/wizard-plugin/teamcity-0.0.1.js",["https://ktor-wizard.teamcity.com/plugins/wizard-plugin/teamcity-0.0.1.css"]);case 4:new window.TeamCity("https://ktor-wizard.teamcity.com/").create(t,{style:{},showBuildLog:!0});case 6:case"end":return e.stop()}}),e)}))),Ot.apply(this,arguments)}var wt=function(){var e=Object(r.useMemo)((function(){return Object(ft.a)("teamcity-placeholder-id")}),[]),t=Object(r.useState)(!1),n=Object(y.a)(t,2),i=n[0],a=n[1];return Object(r.useLayoutEffect)((function(){!function(){Ot.apply(this,arguments)}("#".concat(e))}),[e]),Object(r.useLayoutEffect)((function(){var e=setTimeout((function(){a(!0)}),1e3);return function(){return clearTimeout(e)}}),[]),Object(V.jsx)("section",{className:C()("wt-container","wt-offset-top-24","final-step__whats-next-content",{"final-step__whats-next-content_visible":i}),children:Object(V.jsxs)("div",{className:"wt-row wt-row_size_m",children:[Object(V.jsxs)("div",{className:"wt-col wt-col_auto-inline",children:[Object(V.jsx)("h3",{className:"wt-h3 wt-offset-top-48",children:"Set up the Working Environment"}),Object(V.jsx)("div",{className:"final-step__marketplace-wrapper wt-offset-top-24",children:Object(V.jsxs)(mt.a,{className:"wt-card wt-offset-top-24 final-step__whats-next-island-container",children:[Object(V.jsxs)(mt.b,{className:"wt-card__section",children:[Object(V.jsxs)("h2",{className:"wt-h2",children:[Object(V.jsx)(S.a,{height:25}),Object(V.jsx)("span",{className:"final-step__whats-next-island-title",children:"IntelliJ IDEA Ultimate"})]}),Object(V.jsx)("div",{className:"wt-text-3",children:"With embedded Ktor Plugin"})]}),Object(V.jsxs)(mt.b,{children:[Object(V.jsx)("div",{className:"wt-text-2",children:"Create your next project right inside the IDE!"}),Object(V.jsx)("div",{className:"wt-offset-top-48",children:Object(V.jsx)(G.a,{target:"_blank",href:"https://www.jetbrains.com/ru-ru/idea/download",children:"Download"})})]})]})})]}),Object(V.jsxs)("div",{className:"wt-col wt-col_auto-inline",children:[Object(V.jsxs)("h3",{className:"wt-h3 wt-offset-top-48",children:[Object(V.jsx)("span",{children:"Configure CI"}),Object(V.jsx)(jt.a,{className:"final-step__icon",size:"xs",children:"new"})]}),Object(V.jsxs)(mt.a,{className:"wt-card wt-offset-top-24 final-step__whats-next-island-container",children:[Object(V.jsxs)(mt.b,{children:[Object(V.jsx)("h2",{className:"wt-h2",children:Object(V.jsx)(S.c,{height:25})}),Object(V.jsx)("div",{className:"wt-text-3",children:"Enterprise-level CI/CD Server"})]}),Object(V.jsxs)(mt.b,{children:[Object(V.jsx)("div",{className:"wt-text-2",children:"Once you created a\xa0repository (e.g.\xa0on\xa0GitHub) for\xa0your\xa0project, you can enter its URL below and\xa0have a\xa0running\xa0Ktor\xa0CI\xa0build in\xa0just\xa0one\xa0click."}),Object(V.jsx)("div",{className:"final-step__teamcity-wrapper",id:e})]})]})]})]})})},xt=(n(728),Object(s.b)((function(e){var t=e.projectConfig,n=e.generatedProject,r=e.serializationModel;return{templateLink:"".concat(window.location.protocol,"//").concat(window.location.host,"#/settings?").concat(r.toSearchString(t)),generatedProject:n}}),(function(e){return{onCopySuccess:function(t){return e({type:Ce,payload:{alert:Q(t)}})}}}))((function(e){var t=e.generatedProject,n=e.templateLink,i=e.onCopySuccess,a=Object(r.useMemo)((function(){return window.URL.createObjectURL(t.blob||new Blob)}),[t]),c=Object(r.useCallback)((function(e){return k.trackEvent(le.LINK,e)}),[]),s=Object(r.useCallback)((function(){return c("navigate-to-documentation")}),[c]),o=Object(r.useCallback)((function(e){return e.preventDefault(),lt()(n),i("Link to current project template is copied!"),c("copy-link-to-template")}),[c,n]),l=Object(r.useCallback)((function(){return c("download-by-direct-link")}),[c]);return Object(V.jsxs)("div",{children:[Object(V.jsxs)("section",{className:"wt-container wt-offset-top-96",children:[Object(V.jsx)("h3",{className:"wt-h3",children:"Your Project is Ready to Go!"}),Object(V.jsx)("div",{className:"wt-row wt-row_size_m wt-offset-top-24",children:Object(V.jsxs)("p",{className:"wt-text-2 wt-text-2_hardness_hard wt-col-xlg-8 wt-col-sm-12",children:["Project ",Object(V.jsx)("strong",{children:ne(t.fileName)})," download should start shortly.",Object(V.jsx)("br",{}),"If it does not, please, use the ",Object(V.jsx)("a",{className:"wt-link",href:a,onClick:l,download:t.fileName,children:"direct link"}),"."]})}),Object(V.jsx)("div",{className:"wt-row wt-row_size_m wt-offset-top-24",children:Object(V.jsxs)("p",{className:"wt-text-2 wt-text-2_hardness_hard wt-col-xlg-8 wt-col-sm-12 final-step__toolbar",children:[Object(V.jsxs)("span",{className:"final-step__toolbar-item",children:[Object(V.jsx)("a",{href:n,className:"wt-link",onClick:o,children:"Copy Link to Template"}),Object(V.jsx)(E.b,{role:"button",className:"final-step__icon",glyph:dt.a,color:E.b.Color.GRAY,size:E.a.Size14,onClick:o})]}),Object(V.jsx)("span",{className:"final-step__toolbar-item",children:Object(V.jsx)("a",{href:"https://ktor.io/docs/welcome.html",className:"wt-link",target:"_blank",onClick:s,rel:"noreferrer",children:"View Docs and Tutorials"})})]})})]}),Object(V.jsx)(wt,{})]})}))),_t=(n(729),["message","key"]),kt=Object(s.b)((function(e){return{alerts:e.alerts}}),(function(e){return{onHideAlert:function(t){return e({type:Ne,payload:{alert:t}})}}}))((function(e){var t=e.alerts,n=e.onHideAlert;return Object(V.jsx)($.a,{className:"alert-container",children:t.map((function(e){var r=e.message,i=e.key,a=Object(q.a)(e,_t);return Object(V.jsx)($.b,Object(d.a)(Object(d.a)({},a),{},{onCloseRequest:function(){return function(e){t.filter((function(t){return e.key===t.key}))[0].isClosing=!0,window.setTimeout((function(){return n(e)}),300)}(e)},onClose:function(){return n(e)},children:r}),i)}))})})),yt=function(e){var t=e.initialize,n=e.startProjectGenerating,i=e.generatedProject,a=Object(f.g)(),c=Object(f.h)(),s=c.pathname,o=c.search;Object(r.useEffect)((function(){return t(j.parse(o),a)}),[]),Object(r.useEffect)((function(){new h.a}),[]);var l=Object(r.useCallback)((function(e){k.trackEvent(le.MOVE_TO_STEP,[s.split("/").pop(),e].join("-to-")),a.push({pathname:e,search:o})}),[s,o]),u=Object(r.useCallback)((function(){return l(R)}),[l]),d=Object(r.useCallback)((function(){return l(D)}),[l]);return Object(V.jsxs)(p.a,{className:"layout",children:[Object(V.jsx)(p.c,{children:Object(V.jsx)(M,{activeStep:s,stepPressed:l,startProjectGenerating:n,generatedProject:i})}),Object(V.jsx)(p.b,{className:"content",children:Object(V.jsxs)(f.d,{children:[Object(V.jsx)(f.b,{path:L,render:function(){return Object(V.jsx)(Se,{nextStep:u})}}),Object(V.jsx)(f.b,{path:R,render:function(){return Object(V.jsx)(st,{nextStep:d})}}),Object(V.jsx)(f.b,{path:D,render:function(){return null!==i&&void 0!==i&&i.blob?Object(V.jsx)(xt,{generatedProject:i}):Object(V.jsx)(f.a,{to:L})}}),Object(V.jsx)(f.b,{path:"*",render:function(){return Object(V.jsx)(f.a,{to:L})}})]})}),Object(V.jsx)(kt,{})]})},Nt=Object(s.b)((function(e){var t,n=e.projectConfig,r=e.generatedProject;return{ktorVersionId:null===(t=n.ktorVersion)||void 0===t?void 0:t.id,generatedProject:r}}),(function(e){return{initialize:function(t,n){return e({type:je,payload:{queryParams:t,history:n}})},startProjectGenerating:function(){return e({type:ke})}}}))((function(e){return Object(V.jsx)(m.a,{basename:"/",children:Object(V.jsx)(yt,Object(d.a)({},e))})})),Ct=n(216),St=n(362);function Et(e,t,n){return{serialize:e,deserialize:t,getDefault:n}}function Ft(e){return encodeURIComponent("".concat(e))}function It(e){return e?decodeURIComponent("".concat(e)).replace(/[&<>"' ]+/g," ").trim():void 0}function At(e){try{return Boolean(JSON.parse(e))}catch(t){return}}function zt(e,t){var n,r,i=t.options,a=void 0===i?[]:i,c=null===(n=It(e))||void 0===n?void 0:n.toLowerCase();return c?null===a||void 0===a||null===(r=a.filter((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.toLowerCase())===c}))[0])||void 0===r?void 0:r.id:void 0}function Pt(e){return Ft((e||[]).join(","))}function Tt(e,t){if(e)return It(e).split(",").map((function(e){return zt(e,{options:t})})).filter((function(e){return!!e}))}var Lt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Et(Ft,It,(function(){var e;return(null===t||void 0===t||null===(e=t.project_name)||void 0===e?void 0:e.default)||""})),i=Et(Ft,It,(function(){var e;return(null===t||void 0===t||null===(e=t.company_website)||void 0===e?void 0:e.default)||""})),a=Et(Ft,It,(function(){return re(i.getDefault(),r.getDefault())})),c=function(e){return e&&(e.default_id||(e.options||[])[0])||""},s=Et(Ft,(function(e){return zt(e,(null===t||void 0===t?void 0:t.kotlin_version)||{})}),(function(){return c(null===t||void 0===t?void 0:t.kotlin_version)})),o=Et(Ft,(function(e){return zt(e,(null===t||void 0===t?void 0:t.ktor_version)||{})}),(function(){return c(null===t||void 0===t?void 0:t.ktor_version)})),l=Et(Ft,(function(e){return zt(e,(null===t||void 0===t?void 0:t.build_system)||{})}),(function(){return c(null===t||void 0===t?void 0:t.build_system)})),u=Et(Ft,(function(e){return zt(e,t.engine||{})}),(function(){return c(null===t||void 0===t?void 0:t.engine)})),d=Et(Ft,(function(e){return zt(e,t.configuration_in||{})}),(function(){return c(t.configuration_in)})),j=Et(Ft,At,(function(){return!0})),f=Et(Pt,(function(e){var t=Tt(e,n||[])||[],r=n.reduce((function(e,t){return e[t.id]=t,e}),{});return te(t.reduce((function(e,t){return ee(t,e,r)}),[]).concat(t))}),(function(){return[]})),m={name:r,website:i,artifact:a,kotlinVersion:s,ktorVersion:o,buildSystem:l,engine:u,configurationIn:d,addSampleCode:j,plugins:f};return{models:m,withPlugins:function(n){return e(t,n)},withSettings:function(t){return e(t,n)},toSearchString:function(e){var t=new URLSearchParams;return Object.keys(m).forEach((function(n){e[n]&&t.append(n,e[n])})),t.toString()}}},Rt={projectConfig:{website:"",name:"",artifact:"",kotlinVersion:"",ktorVersion:"",buildSystem:"",engine:"",configurationIn:"",addSampleCode:!0,plugins:[]},features:{},docs:{},options:{kotlinVersion:[],ktorVersion:[],buildSystem:[],engine:[],configurationIn:[]},selectedFeatureId:"",parametersMode:"view",settingsLoaded:!1,featuresLoaded:!1,generatedProject:{},alerts:[],history:null,serializationModel:Lt()};function Dt(e,t){if(t)return t.id||t;var n=e.options.find((function(t){return t.id===e.default_id}));return!n&&e.options[0]?e.options[0].id:n.id}function Vt(e,t){return t||e&&e.default||""}function Ut(e,t){return e[t].options.map((function(e){var t=e.id;return{id:t,value:t,label:e.name}}))}var Mt="ktor.generator.web",qt=function(e){return[Mt,e].join(":")},Gt={getItem:function(e){try{return window.localStorage.getItem(qt(e))}catch(t){return}},setItem:function(e,t){try{return window.localStorage.setItem(qt(e),t)}catch(n){return}}},Kt="config",Bt=Gt.getItem("api")||"https://ktor-plugin.europe-north1-gke.intellij.net";function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json";return fetch("".concat(Bt).concat(e),t).then((function(e){return e.ok?e[n]():Promise.reject({message:e.statusText||"Something went wrong",status:e.status})}))}var Jt=n(363),Wt=n.n(Jt);var Yt=Object(Ct.b)((function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case fe:var r,i,a=e.projectConfig||{},c=a.artifact,s=a.buildSystem,o=a.engine,l=a.configurationIn,u=Vt(n.company_website,null===(r=e.projectConfig)||void 0===r?void 0:r.website),j=Vt(n.project_name,null===(i=e.projectConfig)||void 0===i?void 0:i.name),f=Dt(n.build_system,s);return Object(d.a)(Object(d.a)({},e),{},{settingsLoaded:!0,projectConfig:Object(d.a)(Object(d.a)({},e.projectConfig||{}),{},{website:u,name:j,artifact:Vt(re(u,j),c),kotlinVersion:Dt(n.ktor_version),ktorVersion:Dt(n.kotlin_version),buildSystem:f,engine:Dt(n.engine,o),configurationIn:Dt(n.configuration_in,l),addSampleCode:!0}),options:{kotlinVersion:Ut(n,"kotlin_version"),ktorVersion:Ut(n,"ktor_version"),buildSystem:Ut(n,"build_system"),engine:Ut(n,"engine"),configurationIn:Ut(n,"configuration_in")},ktorDefaultVersionId:n.ktor_version.default_id});case _e:return Object(d.a)(Object(d.a)({},e),{},{featuresLoaded:!1});case pe:var m=function(e){var t=Object.keys(e);return t.reduce((function(n,r){var i=t.filter((function(t){return e[t].requiredFeatures.indexOf(r)>-1}));return Object(d.a)(Object(d.a)({},n),{},Object(b.a)({},r,Object(d.a)(Object(d.a)({},e[r]),{},{isRequiredForFeatures:i})))}),{})},p=m(n.reduce((function(e,t){var n=t.xmlId,r=t.name,i=t.description,a=t.version,c=t.requiredFeatures,s=t.group;return Object(d.a)(Object(d.a)({},e),{},Object(b.a)({},n,{id:n,name:r,description:i,version:a,requiredFeatures:c,group:s}))}),{}));return Object(d.a)(Object(d.a)({},e),{},{featuresLoaded:!0,features:p});case me:return Object(d.a)(Object(d.a)({},e),{},{history:n.history,initialQuery:n.query});case ge:return Object(d.a)(Object(d.a)({},e),{},{serializationModel:n});case he:return Object(d.a)(Object(d.a)({},e),{},{docs:Object(d.a)(Object(d.a)({},e.docs),{},Object(b.a)({},n.id,n.data))});case be:return Object(d.a)(Object(d.a)({},e),{},{selectedFeatureId:t.payload.id});case we:return Object(d.a)(Object(d.a)({},e),{},{parametersMode:"view"===e.parametersMode?"edit":"view"});case xe:var h=t.payload.name,g=e.projectConfig[h],v=t.payload.value,O="ktorVersion"===h&&g!==v;return Object(d.a)(Object(d.a)({},e),{},{projectConfig:Object(d.a)(Object(d.a)({},e.projectConfig),{},Object(b.a)({},h,v),O&&{plugins:[]}),generatedProject:{}});case ye:return Object(d.a)(Object(d.a)({},e),{},{generatedProject:{blob:n.blob,fileName:n.fileName}});case Ne:return Object(d.a)(Object(d.a)({},e),{},{alerts:e.alerts.filter((function(e){return e.key!==t.payload.alert.key}))});case Ce:return Object(d.a)(Object(d.a)({},e),{},{alerts:e.alerts.concat([t.payload.alert])});default:return e}}(e,t);return window.state=n,n}),function(){var e,t=Gt.getItem(Kt);if(t){var n=JSON.parse(t)||{},r=null!==(e=n.plugins)&&void 0!==e&&e.length?n.plugins:[];return Object(d.a)(Object(d.a)({},Rt),{},{projectConfig:Object(d.a)(Object(d.a)(Object(d.a)({},Rt.projectConfig),n),{},{plugins:r})})}}(),Object(Ct.a)((function(e){var t=e.dispatch,n=e.getState,r=function(e,t,n){return Object.keys(n).reduce((function(r,i){var a=n[i];return r[i]=[a.deserialize(e[i]),t[i],a.getDefault()].filter((function(e){return!!e||!1===e}))[0],r}),{})},i=function(e){var n=e.message,r=e.status;return k.trackError("load-settings-".concat(r),!0),t({type:Ce,payload:{alert:Z(n)}})},a=Lt();return function(e){return function(c){if(c.type===je){var s=n().projectConfig;Ht("/project/settings").then((function(e){t({type:fe,payload:e});var n=c.payload.queryParams;a=a.withSettings(e);var i=r(n,s,a.models);return Ht("/features/".concat(i.ktorVersion))})).then((function(e){var n=c.payload,i=n.history,o=n.queryParams;a=a.withPlugins(e.map((function(e){return{id:e.xmlId,requiredFeatures:e.requiredFeatures}})));var l=r(o,s,a.models);return Object.keys(a.models).filter((function(e){if(Array.isArray(l[e])){var t=Array.isArray(s[e])?s[e]:[];return t.length!==l[e].length||l[e].some((function(e){return!t.some((function(t){return t===e}))}))}return void 0!==l[e]&&l[e]!==s[e]})).forEach((function(e){a.models[e]&&function(e){var n=e.name,r=e.value;t({type:xe,payload:{name:n,value:r}})}({name:e,value:l[e]})})),function(e,n){t({type:me,payload:{history:e,query:n}})}(i,o),t({type:ge,payload:a}),t({type:pe,payload:e})})).catch(i)}return e(c)}}}),(function(e){var t=e.dispatch,n=e.getState,r=function(e){t({type:pe,payload:e}),t({type:ge,payload:n().serializationModel.withPlugins(e.map((function(e){return{id:e.xmlId,requiredFeatures:e.requiredFeatures}})))})};return function(e){return function(n){return n.type===xe&&n.payload&&"ktorVersion"===n.payload.name&&(t({type:_e}),Ht("/features/".concat(n.payload.value)).then(r).catch((function(e){var t=e.status;return k.trackError("load-features-on-version-change-".concat(t),!0)}))),e(n)}}}),(function(e){var t=e.dispatch,n=e.getState,r=function(e){return t({type:ye,payload:e})},i=function(e){var t=e.blob,n=e.fileName;return Wt()(t,n,"application/zip"),r({blob:t,fileName:n})};return function(e){return function(a){if(a.type===ke){var c,s=n(),o=s.projectConfig,l=s.generatedProject;if(l&&l.blob)return i(l);var u=Object.keys(o).reduce((function(e,t){var n=o[t];return Object(d.a)(Object(d.a)({},e),{},Object(b.a)({},t,(n.id?n.id:n.value)||n))}),{}),j=u.artifact,f=u.website,m=u.name,p=u.ktorVersion,h=u.kotlinVersion,g=u.buildSystem,v=u.engine,O=u.configurationIn,w=u.addSampleCode,x={settings:(c={},Object(b.a)(c,"project_name",j),Object(b.a)(c,"company_website",f),Object(b.a)(c,"ktor_version",p),Object(b.a)(c,"kotlin_version",h),Object(b.a)(c,"build_system",g),Object(b.a)(c,"engine",v),c),features:o.plugins,configurationOption:O,addDefaultRoutes:w,addWrapper:!0};Ht("/project/generate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(x)},"blob").then((function(e){var t="".concat(m,".zip");return i({blob:e,fileName:t})})).catch((function(e){var n,i=e.message,a=e.status;return r({}),k.trackError("generating-".concat(a),!0),Promise.reject((n="Failed to generate project. ".concat(i),t({type:Ce,payload:{alert:Z(n)}})))}))}return e(a)}}}),(function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){var i=function(e,t){var n=t.projectConfig,r=t.features,i=n.plugins||[];return e.type===ve?te(ee(e.payload.id,[],r).concat([e.payload.id]).concat(i)):e.type===Oe?i.filter((function(t){return!e.payload.ids.some((function(e){return t===e}))})):null}(r,t());return i&&n({type:xe,payload:{name:"plugins",value:i}}),e(r)}}}),(function(e){var t=e.dispatch,n=e.getState,r=function(e){return t({type:he,payload:e})};return function(e){return function(i){if(i.type===be&&i.payload&&i.payload.id){var a=n(),c=a.docs,s=a.projectConfig,o=i.payload.id,l=s.ktorVersion;c[o]&&c[o].version===l||Ht("/feature/".concat(o,"/").concat(l,"/documentation")).then((function(e){return r({data:{version:l,content:e},id:o,version:l})})).catch((function(e){var n=e.message,i=e.status;return k.trackError("load-feature-doc-".concat(i)),r({id:o,data:null}),t({type:Ce,payload:{alert:Z(n||"Something went wrong")}})}))}return e(i)}}}),(function(){var e={};return function(t){return function(n){if(n.type===je){var r=function(e){var t=e.pathname.split("/").pop();return t?"/".concat(t):L},i=n.payload.history;i&&(k.trackPageView(r(i.location)),i.listen((function(e,t){"PUSH"===(t||"").toUpperCase()&&k.trackPageView(r(e))})))}else!function(t){var n,r,i;if(t.type===xe&&null!==(n=t.payload)&&void 0!==n&&n.name&&"name"!==t.payload.name&&!e[t.payload.name])k.trackEvent(le.ACTION,"change-detailed-parameter",{name:null===(i=t.payload)||void 0===i?void 0:i.name}),e[t.payload.name]=!0;else if(t.type===be&&null!==(r=t.payload)&&void 0!==r&&r.id){var a;k.trackEvent(le.ACTION,"view-plugin-info",{plugin:null===(a=t.payload)||void 0===a?void 0:a.id})}}(n);return t(n)}}}),(function(e){var t=e.getState;return function(e){return function(n){var r;if(n.type===xe&&null!==(r=n.payload)&&void 0!==r&&r.name||n.type===ge){var i=t(),a=i.history,c=i.serializationModel;if(a&&c){var s,o,l=Object(d.a)(Object(d.a)({},i.projectConfig),{},Object(b.a)({},null===(s=n.payload)||void 0===s?void 0:s.name,null===(o=n.payload)||void 0===o?void 0:o.value));a.replace({search:c.toSearchString(l)})}}return e(n)}}}))),$t=Object(St.a)(500,(function(){return function(e){var t,n=e.projectConfig,r=e.generatedProject;Gt.setItem(Kt,JSON.stringify((t=r&&r.blob,Object(d.a)(Object(d.a)({},n),{},{name:t?"":n.name,website:t?"":n.website,artifact:t?"":n.artifact,plugins:t?[]:n.plugins,kotlinVersion:"",ktorVersion:""}))))}(Yt.getState())}));Yt.subscribe($t);var Zt=Yt;function Qt(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var e=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}function Xt(){return(Xt=Object(pt.a)(bt.a.mark((function e(){var t,n;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="jb_cookies_consent_closed",!Qt()||-1!==document.cookie.indexOf(t)||-1!==document.cookie.indexOf("adConsent")){e.next=6;break}return e.next=4,gt("https://resources.jetbrains.com/storage/ui/cookies-banner-3.js","https://resources.jetbrains.com/storage/ui/cookies-banner-3.css");case 4:return n={cookieNameToSetOnClose:t},e.abrupt("return",new window.JetBrainsCookieGDPRBanner3(document.body,n));case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){Xt.apply(this,arguments)}();c.a.render(Object(V.jsxs)(s.a,{store:Zt,children:[Object(V.jsx)(l.a,{url:u.a}),Object(V.jsx)(Nt,{})]}),document.getElementById("root"))}},[[733,1,2]]]);
//# sourceMappingURL=main.f35ddd67.chunk.js.map